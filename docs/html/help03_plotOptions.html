<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title></title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
padding-top: 50px;
padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar) */
.section h2 {
padding-top: 55px;
margin-top: -55px;
}
.section h3 {
padding-top: 55px;
margin-top: -55px;
}
/* don't use link color in navbar */
.dropdown-menu>li>a {
color: black;
}
/* some padding for disqus */
#disqus_thread {
margin-top: 45px;
}
p {
  text-align: justify;
}
img.centered {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
</style>
<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46129458-3', 'auto');
  ga('send', 'pageview');

</script>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">

<div class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SNAP Data QA/QC</a>
      </div>
      <div class="navbar-collapse collapse navbar-responsive-collapse">
        <ul class="nav navbar-nav">
          <li><a href="index.html">Overview</a></li>

          <li class="dropdown">
            <a href="climate" class="dropdown-toggle" data-toggle="dropdown">Climate <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="dropdown-header">Extraction</li>
              <li><a href="AR4_AR5_extract.html">Downscaled GCMs</a></li>
              <li><a href="CRU_extract.html">Downscaled CRU 3.x</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">GCM organization</li>
              <li><a href="stats_setup.html">Regions: stats</a></li>
              <li><a href="samples_setup.html">Regions: densities</a></li>
              <li><a href="cities_setup.html">Cities: stats</a></li>
              <li class="dropdown-header">CRU organization</li>
              <li><a href="stats_setup_CRU.html">Regions: stats</a></li>
              <li><a href="samples_setup_CRU.html">Regions: densities</a></li>
              <li><a href="cities_setup_CRU.html">Cities: stats</a></li>
            </ul>

          <li class="dropdown">
            <a href="fire-&-veg" class="dropdown-toggle" data-toggle="dropdown">Fire & Veg <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="dropdown-header">Extraction</li>
              <li><a href="alfStatsByRep_Rmpi.html">ALFRESCO: Rmpi</a></li>
              <li><a href="alfStatsByRep.html">ALFRESCO: functions</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">Organization</li>
              <li><a href="getAlfStatsAndDensities.html">ALFRESCO: stats and densities</a></li>
            </ul>

          <li class="dropdown">
            <a href="app-docs" class="dropdown-toggle" data-toggle="dropdown">App docs <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="aboutapp.html">About</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">Help documents</li>
              <li><a href="help01_start.html">Getting started</a></li>
              <li><a href="help02_data.html">Working with data</a></li>
              <li><a href="help03_plotOptions.html">Graphical options</a></li>
              <li><a href="help04_updating.html">Updating settings</a></li>
              <li><a href="help05_01_graphTS.html">Graphing: time series</a></li>
              <li><a href="help05_02_graphScatter.html">Graphing: scatter plots</a></li>
              <li><a href="help05_03_graphHeat.html">Graphing: heat maps</a></li>
              <li><a href="help05_04_graphVar.html">Graphing: variability</a></li>
              <li><a href="help05_05_graphSpatial.html">Graphing: distributions</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">Prep R code</li>
              <li><a href="qaqc_app_metadata.html">QA/QC App Metadata</a></li>
            </ul>

          <li class="dropdown">
            <a href="app-code" class="dropdown-toggle" data-toggle="dropdown">App code <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="dropdown-header">App R code</li>
              <li><a href="appcode_global.html">global.R</a></li>
              <li><a href="appcode_ui.html">ui.R</a></li>
              <li><a href="appcode_server.html">server.R</a></li>
              <li><a href="appcode_about.html">about.R</a></li>
              <li class="divider"></li>
              <li><a href="appcode_sidebar.html">sidebar.R</a></li>
              <li><a href="appcode_main.html">main.R</a></li>
              <li><a href="appcode_serverHead.html">serverHead.R</a></li>
              <li><a href="appcode_app.html">app.R</a></li>
              <li class="divider"></li>
              <li><a href="appcode_io_sidebar.html">io_sidebar.R</a></li>
              <li><a href="appcode_io_main.html">io_main.R</a></li>
              <li><a href="appcode_reactives.html">reactives.R</a></li>
              <li class="divider"></li>
              <li><a href="appcode_plot_ts.html">plot_ts.R</a></li>
              <li><a href="appcode_plot_scatter.html">plot_scatter.R</a></li>
              <li><a href="appcode_plot_heatmap.html">plot_heatmap.R</a></li>
              <li><a href="appcode_plot_variability.html">plot_variability.R</a></li>
              <li><a href="appcode_plot_spatial.html">plot_spatial.R</a></li>
            </ul>

          <li><a href="http://leonawicz.github.io">All Projects</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <a class="btn btn-link" href="https://github.com/leonawicz/SNAPQAQC">
            <i class="fa fa-github fa-lg"></i>
            Github
          </a>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>



<div id="section" class="section level2">
<h2></h2>
</div>
<div id="section-1" class="section level2">
<h2></h2>
<div id="options-overload" class="section level3">
<h3>Options Overload <img style="float: right; padding-left: 10px; padding-right: 10px" src="img/plotOptionsPanel.png" width="400"/></h3>
<p>What are all these plot options? And why do they change when moving across the navigation menu or updating the data selections?</p>
<div id="plot-options-are-data-dependent" class="section level4">
<h4>Plot Options are Data-Dependent</h4>
<p>Plot options depend on the data. This is trivial, but worth pointing out because it’s very easy to plot with a trigger finger and not give much thought to <em>what</em> is being plotted. For instance, in the <code>Time Series</code> plot, the x-axis is always time, and this is a completely independent variable. The options in this menu are always the same, regardless of data selection. Even if the user selects only one month and one year, they can still plot using month, year, or decade as the x-axis variable.</p>
<p>However, the next menu for selecting a grouping variable, is dependent on the data subset. Grouping is for factors and it’s only sensible if there are at least two levels of a factor in the data table. The menu, among others, must be updated when the data changes. Some options are hierarchically dependent. For example, the color options dpened on the grouping variable which, for some plots, depends on the axis variable(s).</p>
</div>
<div id="plot-options-are-plot-dependent" class="section level4">
<h4>Plot Options are Plot-Dependent</h4>
<p>Availability of plot options also depend on the type of plot. Some of this is obvious, such as not adding points to a heat map, or contour lines to a univariate time series plot. But others are more subtle. For example, in the time series plot CRU data can be directly overlaid on the selected GCMs by checking the <code>Show CRU 3.2</code> checkbox. In the heat map there is no way to overlay CRU on top of GCM(s) in the same fashion. The only option is to merge them by properly weighted averaging into one heat map, though realistically you want to facet, not group, by GCM/CRU and see them side by side. The heat map offers a <code>Cell values</code> checkbox which when checked will print the data values in the heat map cells. This is helpful because seeing the numbers on cells of different color gradation can be easier to interpret than continually glancing to a color key that might only be harder to read anyway. On the other hand, printing values on the time series plot would largely be clutter.</p>
</div>
<div id="some-things-are-just-not-allowed" class="section level4">
<h4>Some Things are Just not Allowed</h4>
<p>In the time series plot, precipitation may be plotted with points, lines, and/or bars. For temperature, bars are prohibited. Yes, I can force <code>ggplot</code> to generate such a graphic, but it does not make much sense and is bad practice since temperature does not have a real zero (unless we’re working in Kelvins, which we’re not). The app uses bars to plot amounts, not deviations from a mean for instance. As such they don’t work well for temperature. It’s certainly impossible to plot the bars in stacked form or as proportions. The fact that dodged bars can still be forced makes it all the more sinister.</p>
</div>
<div id="and-some-things-are-just-a-pain" class="section level4">
<h4>And Some Things are Just a Pain</h4>
<p>Drawing lines connecting points along the x-axis when the x-axis is a nominal categorical variable should be prohibited in my opinion. It gives a nonsensical sense of continuity. But also, this could in rare cases be useful. Given that I have bigger fish to fry, this special case has not been excised from the app.</p>
<p>As another example, the CRU data overlay has different implementations throughout the app. There is no uniform approach that works equally well for all plot types. In the time series tab, there is an explicitly overlay. This is clear and powerful, but a limitation is CRU data cannot become grouped by a factor when GCMs are given a grouping factor, because after all CRU data clearly cannot be colored the same as the GCM outputs or we couldn’t tell them apart.</p>
<p>Alternatively, in the <code>Variability</code> plot, CRU data are explicitly merged with the GCM subset as a unique “phase/scenario/model” combination (even though really it is none of those things) in order to facilitate it being graphed more seamlessly with the GCM data. This allows it to stand out more clearly when grouping by model, but has the drawback of averaging it in with GCM values when grouping by a different variable rather than a strict, uniquely colored overlay.</p>
<p>When seeing but through a glass darkly, we just need to know the best angle at which to hold the glass to the light. The plots available in the app cannot display absolutely anything the user wants, but certainly in more ways than I like to think about. As a result, there are many ways to look at the same thing, and some are far better than others. This app will allow the user to plot some things that don’t really even make sense to look at or think about. It requires that you think clearly about what you are doing and what you aim to do. With great power comes great responsibility.</p>
</div>
<div id="generating-and-downloading-graphs" class="section level4">
<h4>Generating and Downloading Graphs</h4>
<p>Analogous to generating a data subset, the user can graph in the browser by pressing the <code>Generate Plot</code> button. Also similar, once this occurs, an adjacent <code>Download Plot</code> button will appear. This allows the user to download the plot in PDF format. The downloaded PDF will not be exactly identical in its formatting to that shown in the browser, but very close, and better quality. Unlike with data selection, no additional plot option selection is required in order to plot. As soon as the subset operation is complete and the plot options panel appears, a valid plot can be made by pressing <code>Generate Plot</code>, though it will be unlikely that the default plot options will be exactly what the user wants.</p>
</div>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
